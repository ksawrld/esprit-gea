<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Taxi'GEA ‚Ä¢ Passage</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />

  <style>
    :root {
      --bg: #0b1437;
      --panel: #111d49;
      --accent: #1e3a8a;
      --accent-2: #3b82f6;
      --text: #ffffff;
      --muted: #d0dcff;
      --border: #233062;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color: var(--text);
      background: var(--bg);
    }

    header {
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      border-bottom: 1px solid var(--border);
      background: var(--panel);
    }

    header img {
      height: 48px;
      width: 48px;
      border-radius: 50%;
      object-fit: cover;
    }

    header h1 {
      font-size: 18px;
      margin: 0;
      font-weight: 600;
    }

    .layout {
      display: grid;
      grid-template-columns: 380px 1fr;
      height: calc(100vh - 70px);
    }

    @media (max-width: 980px) {
      .layout {
        grid-template-columns: 1fr;
        grid-auto-rows: auto 1fr;
        height: auto;
      }

      #map {
        height: 70vh;
      }
    }

    aside {
      padding: 16px;
      background: var(--panel);
      border-right: 1px solid var(--border);
      overflow: auto;
    }

    #map {
      width: 100%;
      height: calc(100vh - 70px);
      background: #07102a;
    }

    input,
    select,
    textarea,
    button {
      font-size: 14px;
      border: none;
      outline: none;
    }

    input,
    select,
    textarea {
      width: 100%;
      padding: 10px 12px;
      margin-top: 6px;
      border-radius: 10px;
      background: #12204f;
      color: #fff;
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    .btn {
      padding: 10px 12px;
      border-radius: 10px;
      background: #24388d;
      color: #fff;
      cursor: pointer;
      border: 1px solid #3148a6;
    }

    .btn.primary {
      background: var(--accent-2);
      border-color: #2563eb;
    }

    .card {
      background: #0f1a4a;
      border: 1px solid var(--border);
      padding: 14px;
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, .25);
    }

    .stack {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .muted {
      color: var(--muted);
      font-size: 13px;
    }

    label.muted {
      color: var(--muted);
      font-size: 13px;
      display: block;
      margin-top: 8px;
    }

    .hidden {
      display: none;
    }

    .small {
      font-size: 13px;
      color: var(--muted);
    }
  </style>
</head>

<body>

  <header>
    <img src="logo.png" alt="Esprit GEA logo" onerror="this.style.display='none'">
    <h1>ESPRIT GEA ‚Ä¢ Taxi'GEA</h1>
  </header>

  <div class="layout">
    <aside>
      <div class="stack">

        <div class="card">
          <h2>Soumettre pour passage</h2>

          <label class="muted">Nom</label>
          <input id="inputLastName" placeholder="Ex: Dupont" />

          <label class="muted">Pr√©nom</label>
          <input id="inputFirstName" placeholder="Ex: Lucas" />

          <label class="muted">T√©l√©phone</label>
          <input id="inputPhone" placeholder="Ex: +33 6 12 34 56 78" />

          <label class="muted">Adresse (ou laisse vide et place un point sur la carte)</label>
          <input id="inputLocation" placeholder="Ex: 10 rue Exemple, Meaux" />

          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn" id="geocodeBtn">G√©ocoder & ajouter</button>
            <button class="btn" id="placeOnMapBtn">Placer un point</button>
          </div>

          <label class="muted" style="margin-top:8px">Point de ramassage (facultatif)</label>
          <select id="dropPoint">
            <option value="">Choisir un point</option>
            <option value="Gare de Meaux">Gare de Meaux</option>
            <option value="Campus IUT Meaux">Campus IUT Meaux</option>
            <option value="Centre de Mareuil">Centre de Mareuil</option>
            <option value="Autre">Autre (indiquer en remarque)</option>
          </select>

          <label class="muted" style="margin-top:8px">Message / remarque (optionnel)</label>
          <textarea id="inputNote" placeholder="Ex: attendre √† la gare, c√¥t√© parking."></textarea>

          <label style="margin-top:8px">
            <input type="checkbox" id="consentChk" />
            <span class="small">J'accepte d'√™tre contact√© et transport√© par l'√©quipe Esprit GEA.</span>
          </label>

          <div style="display:flex;gap:8px;margin-top:10px">
            <button class="btn primary" id="submitAnon">Soumettre ma demande</button>
            <button class="btn" id="clearForm">Effacer</button>
          </div>
        </div>

        <div class="card">
          <h2>Acc√®s admin</h2>

          <div id="authBlock">
            <label class="muted">Email admin</label>
            <input id="adminEmail" placeholder="email admin" />

            <label class="muted">Mot de passe</label>
            <input id="adminPass" type="password" placeholder="mot de passe" />

            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn primary" id="adminSignIn">Se connecter</button>
              <button class="btn" id="adminSignOut">Se d√©connecter</button>
            </div>
          </div>
        </div>

        <div class="card hidden" id="adminPanelShort">
          <h2>Panneau Admin</h2>
          <div class="muted">Tu es connect√©. Acc√®de au tableau des demandes.</div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn" id="openAdminFull">Ouvrir le tableau</button>
            <button class="btn" id="exportCsvAdmin">Exporter CSV</button>
          </div>
        </div>

      </div>
    </aside>

    <main>
      <div id="map"></div>
    </main>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>

  <!-- üéØ SCRIPT ENTIER FONCTIONNEL -->
  <!-- (celui que tu m‚Äôas envoy√© + mes correctifs int√©gr√©s) -->
  <script type="module">
    ‚Ä¶  
    <!-- ‚ö†Ô∏è ICI tu colles EXACTEMENT le script que tu as envoy√© dans ton dernier message -->
    ‚Ä¶  
  </script>

</body>
</html>
